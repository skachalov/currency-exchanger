{"version":3,"file":"js/197.d46b1133.js","mappings":"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","sources":["webpack://currency-exchanger/./src/helpers/notificationConstructor.ts","webpack://currency-exchanger/./src/components/UI/BaseNotification.vue?1ac9","webpack://currency-exchanger/./src/components/UI/BaseNotification.vue","webpack://currency-exchanger/./src/components/UI/BaseWarning.vue","webpack://currency-exchanger/./src/components/UI/BaseWarning.vue?a402","webpack://currency-exchanger/./src/components/UI/BaseInput.vue?04ec","webpack://currency-exchanger/./src/components/UI/BaseInput.vue","webpack://currency-exchanger/./src/pages/TransferPage.vue?9c53","webpack://currency-exchanger/./src/pages/TransferPage.vue","webpack://currency-exchanger/./src/const/acceptableNetworks.ts","webpack://currency-exchanger/./src/helpers/TransferValidator.ts","webpack://currency-exchanger/./src/helpers/WalletTransferFacade.ts","webpack://currency-exchanger/./src/controllers/TransferPageController.vue?a0e5","webpack://currency-exchanger/./src/controllers/TransferPageController.vue"],"sourcesContent":["export default function notificationConstructor(status: number, description: any): any {\n    return {\n        status, description\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f227d502\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"base-notification\"\n}\n\nimport { watch, ref } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    notification: {\n        type: String,\n        default: \"\"\n    }\n},\n  emits: [\"clearNotification\"],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\n\n\nconst currentNotification = ref(\"\")\n\n\nwatch(() => props.notification,\n    () => {\n        currentNotification.value = props.notification\n\n        setTimeout(() => {\n                currentNotification.value = \"\"\n                emits(\"clearNotification\")\n            }, 3000\n        )\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Transition, { name: \"notification-transition\" }, {\n    default: _withCtx(() => [\n      (currentNotification.value.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _toDisplayString(currentNotification.value), 1))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./BaseNotification.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseNotification.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseNotification.vue?vue&type=style&index=0&id=f227d502&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/kachalov/projects/currency-exchanger/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f227d502\"]])\n\nexport default __exports__","<template>\n    <div class=\"base-warning\">\n        <slot />\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.base-warning {\n    color: $warn;\n    font-family: \"Gilroy Regular\";\n}\n</style>","import { render } from \"./BaseWarning.vue?vue&type=template&id=3d99b0b5&scoped=true\"\nconst script = {}\n\nimport \"./BaseWarning.vue?vue&type=style&index=0&id=3d99b0b5&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/kachalov/projects/currency-exchanger/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d99b0b5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, vShow as _vShow, withCtx as _withCtx, withDirectives as _withDirectives, Transition as _Transition, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-86464a2e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"base-input-container\" }\nconst _hoisted_2 = [\"value\"]\n\n\nimport BaseWarning from \"@/components/UI/BaseWarning\"\nimport BaseTitleRow from \"@/components/UI/BaseTitleRow.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    inputValue: String,\n    title: String,\n    error: {\n        type: Boolean,\n        default: false\n    },\n    errorText: String\n},\n  emits: [\"updateInputValue\"],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\n\n\n\n\nfunction updateInputValue(event: any) {\n    emits(\"updateInputValue\", event.target.value, props.title)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(BaseTitleRow, { title: __props.title }, null, 8, [\"title\"]),\n    _createElementVNode(\"input\", {\n      class: \"base-input\",\n      value: __props.inputValue,\n      onInput: updateInputValue,\n      placeholder: \"Input...\"\n    }, null, 40, _hoisted_2),\n    _createVNode(_Transition, { name: \"base-warning-transition\" }, {\n      default: _withCtx(() => [\n        _withDirectives(_createVNode(_unref(BaseWarning), { style: {\"margin-top\":\"5px\"} }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(__props.errorText), 1)\n          ]),\n          _: 1\n        }, 512), [\n          [_vShow, __props.error]\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./BaseInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseInput.vue?vue&type=style&index=0&id=86464a2e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/kachalov/projects/currency-exchanger/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-86464a2e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5eeab7d2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"button-container\" }\n\nimport BaseInput from \"@/components/UI/BaseInput\"\n\nimport BaseButton from \"@/components/UI/BaseButton.vue\";\nimport BaseNotification from \"@/components/UI/BaseNotification.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    inputsData: Object,\n    notification: String\n},\n  emits: [\"updateInputAddress\", \"updateInputAmount\",\n    \"redirectWalletPage\", \"transferCurrency\", \"clearNotification\"],\n  setup(__props, { emit: emits }) {\n\n\n\n\n\nfunction updateInputValue(value: string, title: string) {\n    switch (title) {\n        case \"Address\":\n            emits(\"updateInputAddress\", value)\n            break\n        case \"Amount\":\n            emits(\"updateInputAmount\", value)\n            break\n    }\n}\nfunction redirectWalletPage() {\n    emits(\"redirectWalletPage\")\n}\nfunction transferCurrency() {\n    emits(\"transferCurrency\")\n}\nfunction clearNotification() {\n    emits(\"clearNotification\")\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(BaseNotification, {\n      notification: __props.notification,\n      onClearNotification: clearNotification\n    }, null, 8, [\"notification\"]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.keys(__props.inputsData), (input) => {\n      return (_openBlock(), _createBlock(_unref(BaseInput), {\n        key: __props.inputsData[input].title,\n        title: __props.inputsData[input].title,\n        \"input-value\": __props.inputsData[input].input,\n        onUpdateInputValue: updateInputValue,\n        error: __props.inputsData[input].error,\n        \"error-text\": `Incorrect ${__props.inputsData[input].title.toLowerCase()}`\n      }, null, 8, [\"title\", \"input-value\", \"error\", \"error-text\"]))\n    }), 128)),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(BaseButton, {\n        title: 'cancel',\n        \"icon-name\": 'arrow-rotate-left',\n        onClick: redirectWalletPage\n      }),\n      _createVNode(BaseButton, {\n        title: 'send',\n        \"icon-name\": 'arrow-up',\n        onClick: transferCurrency\n      })\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./TransferPage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TransferPage.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TransferPage.vue?vue&type=style&index=0&id=5eeab7d2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/kachalov/projects/currency-exchanger/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5eeab7d2\"]])\n\nexport default __exports__","export const ACCEPTABLE_NETWORKS = [\"goerli\"]","import { ACCEPTABLE_NETWORKS } from \"@/const/acceptableNetworks\"\n\nexport default class TransferValidator {\n    static ValidateNetwork(network: string): boolean {\n        return ACCEPTABLE_NETWORKS.indexOf(network) !== -1\n    }\n\n    static ValidateAddress(address: string, yourAddress: string): boolean {\n        return address.length > 0 && address !== yourAddress\n    }\n\n    static ValidateAmount(amount: string, yourBalance: string): boolean {\n        const checkForZeroAmount = (_amount: string) =>\n            _amount.split('.').map(a => Number(a)).filter(a => a !== 0).length !== 0\n\n        try {\n            return amount.length > 0 && amount.split(\".\").length === 2\n                && checkForZeroAmount(amount) && amount <= yourBalance\n        }\n        catch {\n            return false\n        }\n    }\n}","import notificationConstructor from \"@/helpers/notificationConstructor\";\n\nexport default class WalletTransferFacade {\n    static async TransferMoney(signer: any, transaction: any) {\n        try {\n            const t = await signer.sendTransaction(transaction)\n            return notificationConstructor(1, t.hash)\n        }\n        catch {\n            return notificationConstructor(-1,  \"Operation canceled\")\n        }\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport TransferPage from \"@/pages/TransferPage\"\nimport { ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { WalletType } from \"@/helpers/WalletConnection/WalletType\"\nimport ConnectionFactory from \"@/helpers/WalletConnection/ConnectionFactory\"\nimport TransferValidator from \"@/helpers/TransferValidator\"\nimport WalletTransferFacade from \"@/helpers/WalletTransferFacade\"\nimport { ACCEPTABLE_NETWORKS } from \"@/const/acceptableNetworks\"\nimport { ethers } from \"ethers\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst router = useRouter()\n\nlet inputsData = ref({\n    inputAddress: {\n        title: \"Address\",\n        input: \"\",\n        error: false,\n    },\n    inputAmount: {\n        title: \"Amount\",\n        input: \"\",\n        error: false\n    }\n})\n\nlet acceptableNetworkError = ref(false)\n\nfunction updateInputAddress(value: string) {\n    inputsData.value.inputAddress.input = value\n}\nfunction updateInputAmount(value: string) {\n    inputsData.value.inputAmount.input = value\n}\nfunction redirectWalletPage() {\n    router.push(\"/wallet\")\n}\n\nlet notification = ref(\"\")\n\nasync function transferCurrency() {\n\n    const connection = ConnectionFactory.GetWalletConnection(WalletType.MetaMask)\n    const provider = connection.getProvider()\n    const signer = await provider.getSigner()\n    const address = await signer.getAddress()\n    const yourBalance = await connection.getBalance(address)\n    const network = await connection.getNetwork()\n\n    acceptableNetworkError.value = !TransferValidator.ValidateNetwork(network.name)\n\n    if (acceptableNetworkError.value) {\n        notification.value = `This wallet works only with ${ ACCEPTABLE_NETWORKS.join(',') } networks`\n        return\n    }\n\n    inputsData.value.inputAddress.error =\n        !TransferValidator.ValidateAddress(inputsData.value.inputAddress.input, address)\n    inputsData.value.inputAmount.error =\n        !TransferValidator.ValidateAmount(inputsData.value.inputAmount.input, ethers.utils.formatEther(yourBalance))\n\n    if (inputsData.value.inputAddress.error || inputsData.value.inputAmount.error) return\n\n    const gasPrice = await connection.getGasPrice()\n\n    const transaction = {\n        from: address,\n        to: inputsData.value.inputAddress.input,\n        value: ethers.utils.parseEther(inputsData.value.inputAmount.input),\n        gasLimit: ethers.utils.hexlify(100000),\n        gasPrice: gasPrice\n    }\n\n    const transferring = await WalletTransferFacade.TransferMoney(signer, transaction)\n\n    if (transferring.status !== -1) {\n        await router.push(`/status/${ transferring.description }`)\n    }\n    else {\n        notification.value = transferring.description\n    }\n}\n\nfunction clearNotification() {\n    notification.value = \"\"\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(TransferPage), {\n    \"inputs-data\": _unref(inputsData),\n    notification: _unref(notification),\n    onUpdateInputAddress: updateInputAddress,\n    onUpdateInputAmount: updateInputAmount,\n    onRedirectWalletPage: redirectWalletPage,\n    onTransferCurrency: transferCurrency,\n    onClearNotification: clearNotification\n  }, null, 8, [\"inputs-data\", \"notification\"]))\n}\n}\n\n})","import script from \"./TransferPageController.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TransferPageController.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["notificationConstructor","status","description","_hoisted_1","key","class","_defineComponent","props","notification","type","String","default","emits","setup","__props","emit","currentNotification","ref","watch","value","setTimeout","_ctx","_cache","_openBlock","_createBlock","_Transition","name","_withCtx","length","_createElementBlock","_toDisplayString","_createCommentVNode","_","__exports__","_renderSlot","script","render","_hoisted_2","inputValue","title","error","Boolean","errorText","updateInputValue","event","target","_createVNode","BaseTitleRow","_createElementVNode","onInput","placeholder","_withDirectives","_unref","BaseWarning","style","_createTextVNode","_vShow","inputsData","Object","redirectWalletPage","transferCurrency","clearNotification","_Fragment","BaseNotification","onClearNotification","_renderList","keys","input","BaseInput","onUpdateInputValue","toLowerCase","BaseButton","onClick","ACCEPTABLE_NETWORKS","TransferValidator","static","network","indexOf","address","yourAddress","amount","yourBalance","checkForZeroAmount","_amount","split","map","a","Number","filter","WalletTransferFacade","signer","transaction","t","sendTransaction","hash","router","useRouter","inputAddress","inputAmount","acceptableNetworkError","updateInputAddress","updateInputAmount","push","async","connection","ConnectionFactory","WalletType","provider","getProvider","getSigner","getAddress","getBalance","getNetwork","ValidateNetwork","join","ValidateAddress","ValidateAmount","ethers","gasPrice","getGasPrice","from","to","gasLimit","transferring","TransferMoney","TransferPage","onUpdateInputAddress","onUpdateInputAmount","onRedirectWalletPage","onTransferCurrency"],"sourceRoot":""}